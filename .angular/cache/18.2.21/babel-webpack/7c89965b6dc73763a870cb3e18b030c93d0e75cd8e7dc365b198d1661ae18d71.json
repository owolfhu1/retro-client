{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { SocketService } from '../socket.service';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { WriteDialogComponent } from '../instance/instance.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../socket.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/icon\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/card\";\nimport * as i7 from \"@angular/material/chips\";\nimport * as i8 from \"@angular/material/badge\";\nimport * as i9 from \"@angular/material/tooltip\";\nimport * as i10 from \"@ctrl/ngx-emoji-mart/ngx-emoji\";\nimport * as i11 from \"@ctrl/ngx-emoji-mart\";\nfunction StatementComponent_div_0_mat_icon_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\", 12);\n    i0.ɵɵtext(1, \"outlined_flag\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StatementComponent_div_0_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function StatementComponent_div_0_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.vote(\"ups\"));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"thumb_up\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.socketService.votesLeft || ctx_r2.socketService.disabled)(\"matBadge\", ctx_r2.calcVotes(ctx_r2.statement, \"ups\"));\n  }\n}\nfunction StatementComponent_div_0_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function StatementComponent_div_0_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.unVote(\"ups\"));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"redo\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.socketService.disabled)(\"matBadge\", ctx_r2.calcVotes(ctx_r2.statement, \"downs\"));\n  }\n}\nfunction StatementComponent_div_0_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function StatementComponent_div_0_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.unVote(\"downs\"));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"undo\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"matBadge\", ctx_r2.calcVotes(ctx_r2.statement, \"ups\"))(\"disabled\", ctx_r2.socketService.disabled);\n  }\n}\nfunction StatementComponent_div_0_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function StatementComponent_div_0_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.vote(\"downs\"));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"thumb_down\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.socketService.votesLeft || ctx_r2.socketService.disabled)(\"matBadge\", ctx_r2.calcVotes(ctx_r2.statement, \"downs\"));\n  }\n}\nfunction StatementComponent_div_0_button_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function StatementComponent_div_0_button_17_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.addEmoji());\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"emoji_emotions\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.socketService.disabled);\n  }\n}\nfunction StatementComponent_div_0_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function StatementComponent_div_0_button_18_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.socketService.minimizeComments(ctx_r2.statement.id));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"matBadge\", ctx_r2.socketService.minimizeCommentsMap[ctx_r2.statement.id] ? ctx_r2.statement.comments.length : null)(\"disabled\", ctx_r2.socketService.disabled)(\"matTooltip\", (ctx_r2.socketService.minimizeCommentsMap[ctx_r2.statement.id] ? \"show\" : \"hide\") + \" comments\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"speaker_notes\", ctx_r2.socketService.minimizeCommentsMap[ctx_r2.statement.id] ? \"\" : \"_off\", \"\");\n  }\n}\nfunction StatementComponent_div_0_mat_chip_list_19_mat_chip_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-chip\", 19);\n    i0.ɵɵlistener(\"click\", function StatementComponent_div_0_mat_chip_list_19_mat_chip_1_Template_mat_chip_click_0_listener() {\n      const obj_r10 = i0.ɵɵrestoreView(_r9).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r2.emoji(obj_r10.emoji));\n    });\n    i0.ɵɵelement(1, \"ngx-emoji\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const obj_r10 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"selected\", obj_r10.names.includes(ctx_r2.socketService.name))(\"matTooltip\", obj_r10.names.join(\", \"))(\"matBadge\", obj_r10.names.length === 1 ? null : obj_r10.names.length);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"emoji\", obj_r10.emoji.colons);\n  }\n}\nfunction StatementComponent_div_0_mat_chip_list_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-chip-list\");\n    i0.ɵɵtemplate(1, StatementComponent_div_0_mat_chip_list_19_mat_chip_1_Template, 2, 4, \"mat-chip\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.statement.emoji);\n  }\n}\nfunction StatementComponent_div_0_div_20_mat_card_1_div_1_mat_icon_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\", 26);\n    i0.ɵɵtext(1, \"outlined_flag\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction StatementComponent_div_0_div_20_mat_card_1_div_1_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function StatementComponent_div_0_div_20_mat_card_1_div_1_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const comment_r14 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r2.commentVote(\"ups\", comment_r14.id));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"thumb_up\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const comment_r14 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.socketService.votesLeft || ctx_r2.socketService.disabled)(\"matBadge\", ctx_r2.calcVotes(comment_r14, \"ups\"));\n  }\n}\nfunction StatementComponent_div_0_div_20_mat_card_1_div_1_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function StatementComponent_div_0_div_20_mat_card_1_div_1_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const comment_r14 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r2.unCommentVote(\"ups\", comment_r14.id));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"redo\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const comment_r14 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.socketService.disabled)(\"matBadge\", ctx_r2.calcVotes(comment_r14, \"downs\"));\n  }\n}\nfunction StatementComponent_div_0_div_20_mat_card_1_div_1_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function StatementComponent_div_0_div_20_mat_card_1_div_1_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const comment_r14 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r2.unCommentVote(\"downs\", comment_r14.id));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"undo\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const comment_r14 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.socketService.disabled)(\"matBadge\", ctx_r2.calcVotes(comment_r14, \"ups\"));\n  }\n}\nfunction StatementComponent_div_0_div_20_mat_card_1_div_1_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function StatementComponent_div_0_div_20_mat_card_1_div_1_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const comment_r14 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r2.commentVote(\"downs\", comment_r14.id));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"thumb_down\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const comment_r14 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.socketService.votesLeft || ctx_r2.socketService.disabled)(\"matBadge\", ctx_r2.calcVotes(comment_r14, \"downs\"));\n  }\n}\nfunction StatementComponent_div_0_div_20_mat_card_1_div_1_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function StatementComponent_div_0_div_20_mat_card_1_div_1_button_14_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const comment_r14 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r2.addCommentEmoji(comment_r14.id));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"emoji_emotions\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(5);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.socketService.disabled);\n  }\n}\nfunction StatementComponent_div_0_div_20_mat_card_1_div_1_mat_chip_list_18_mat_chip_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-chip\", 19);\n    i0.ɵɵlistener(\"click\", function StatementComponent_div_0_div_20_mat_card_1_div_1_mat_chip_list_18_mat_chip_1_Template_mat_chip_click_0_listener() {\n      const obj_r20 = i0.ɵɵrestoreView(_r19).$implicit;\n      const comment_r14 = i0.ɵɵnextContext(3).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r2.commentEmoji(comment_r14.id, obj_r20.emoji));\n    });\n    i0.ɵɵelement(1, \"ngx-emoji\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const obj_r20 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(6);\n    i0.ɵɵproperty(\"selected\", obj_r20.names.includes(ctx_r2.socketService.name))(\"matTooltip\", obj_r20.names.join(\", \"))(\"matBadge\", obj_r20.names.length === 1 ? null : obj_r20.names.length);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"emoji\", obj_r20.emoji.colons);\n  }\n}\nfunction StatementComponent_div_0_div_20_mat_card_1_div_1_mat_chip_list_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-chip-list\");\n    i0.ɵɵtemplate(1, StatementComponent_div_0_div_20_mat_card_1_div_1_mat_chip_list_18_mat_chip_1_Template, 2, 4, \"mat-chip\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const comment_r14 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", comment_r14.emoji);\n  }\n}\nfunction StatementComponent_div_0_div_20_mat_card_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, StatementComponent_div_0_div_20_mat_card_1_div_1_mat_icon_1_Template, 2, 0, \"mat-icon\", 23);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 4);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, StatementComponent_div_0_div_20_mat_card_1_div_1_button_6_Template, 3, 2, \"button\", 5)(7, StatementComponent_div_0_div_20_mat_card_1_div_1_button_7_Template, 3, 2, \"button\", 6)(8, StatementComponent_div_0_div_20_mat_card_1_div_1_button_8_Template, 3, 2, \"button\", 6)(9, StatementComponent_div_0_div_20_mat_card_1_div_1_button_9_Template, 3, 2, \"button\", 6);\n    i0.ɵɵtext(10, \" \\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0 \");\n    i0.ɵɵelementStart(11, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function StatementComponent_div_0_div_20_mat_card_1_div_1_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const comment_r14 = i0.ɵɵnextContext().$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r2.editComment(comment_r14.id, comment_r14.text, comment_r14.notAnonymous, comment_r14.author));\n    });\n    i0.ɵɵelementStart(12, \"mat-icon\");\n    i0.ɵɵtext(13, \"edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(14, StatementComponent_div_0_div_20_mat_card_1_div_1_button_14_Template, 3, 1, \"button\", 10);\n    i0.ɵɵelementStart(15, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function StatementComponent_div_0_div_20_mat_card_1_div_1_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const comment_r14 = i0.ɵɵnextContext().$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r2.deleteComment(comment_r14.id));\n    });\n    i0.ɵɵelementStart(16, \"mat-icon\");\n    i0.ɵɵtext(17, \"delete\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(18, StatementComponent_div_0_div_20_mat_card_1_div_1_mat_chip_list_18_Template, 2, 1, \"mat-chip-list\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext();\n    const comment_r14 = ctx_r20.$implicit;\n    const i_r22 = ctx_r20.index;\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", comment_r14.isEdited);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"author: \", comment_r14.notAnonymous ? comment_r14.author : \"Anonymous\", \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(comment_r14.text);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.iVoted(comment_r14, \"downs\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.iVoted(comment_r14, \"ups\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.iVoted(comment_r14, \"downs\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.socketService.instance.negativeVotesAllowed && !ctx_r2.iVoted(comment_r14, \"ups\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.canEditComment(i_r22) || ctx_r2.socketService.disabled);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.socketService.instance.emojiAllowed);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.canEditComment(i_r22) || ctx_r2.socketService.disabled);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.socketService.instance.emojiAllowed && (comment_r14.emoji == null ? null : comment_r14.emoji.length));\n  }\n}\nfunction StatementComponent_div_0_div_20_mat_card_1_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"i\", 27);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const comment_r14 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"matTooltip\", comment_r14.text);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r2.minStatement(comment_r14.text));\n  }\n}\nfunction StatementComponent_div_0_div_20_mat_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card\");\n    i0.ɵɵtemplate(1, StatementComponent_div_0_div_20_mat_card_1_div_1_Template, 19, 11, \"div\", 0)(2, StatementComponent_div_0_div_20_mat_card_1_div_2_Template, 3, 2, \"div\", 0);\n    i0.ɵɵelementStart(3, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function StatementComponent_div_0_div_20_mat_card_1_Template_button_click_3_listener() {\n      const comment_r14 = i0.ɵɵrestoreView(_r11).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r2.socketService.minimize(comment_r14.id));\n    });\n    i0.ɵɵelementStart(4, \"mat-icon\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const comment_r14 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.socketService.minimizedMap[comment_r14.id]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.socketService.minimizedMap[comment_r14.id]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"matTooltip\", ctx_r2.socketService.minimizedMap[comment_r14.id] ? \"restore\" : \"minimize\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.socketService.minimizedMap[comment_r14.id] ? \"add\" : \"remove\", \"_circle\");\n  }\n}\nfunction StatementComponent_div_0_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, StatementComponent_div_0_div_20_mat_card_1_Template, 6, 4, \"mat-card\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.statement.comments);\n  }\n}\nfunction StatementComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, StatementComponent_div_0_mat_icon_1_Template, 2, 0, \"mat-icon\", 3);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 4);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, StatementComponent_div_0_button_6_Template, 3, 2, \"button\", 5)(7, StatementComponent_div_0_button_7_Template, 3, 2, \"button\", 6)(8, StatementComponent_div_0_button_8_Template, 3, 2, \"button\", 7)(9, StatementComponent_div_0_button_9_Template, 3, 2, \"button\", 6);\n    i0.ɵɵtext(10, \" \\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0\\u00A0 \");\n    i0.ɵɵelementStart(11, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function StatementComponent_div_0_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.comment());\n    });\n    i0.ɵɵelementStart(12, \"mat-icon\");\n    i0.ɵɵtext(13, \"add_comment\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function StatementComponent_div_0_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.edit());\n    });\n    i0.ɵɵelementStart(15, \"mat-icon\");\n    i0.ɵɵtext(16, \"edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(17, StatementComponent_div_0_button_17_Template, 3, 1, \"button\", 10)(18, StatementComponent_div_0_button_18_Template, 3, 4, \"button\", 11)(19, StatementComponent_div_0_mat_chip_list_19_Template, 2, 1, \"mat-chip-list\", 0)(20, StatementComponent_div_0_div_20_Template, 2, 1, \"div\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.statement.isEdited);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"author: \", ctx_r2.statement.notAnonymous ? ctx_r2.statement.author : \"Anonymous\", \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.statement.text);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.iVoted(ctx_r2.statement, \"downs\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.iVoted(ctx_r2.statement, \"ups\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.iVoted(ctx_r2.statement, \"downs\"));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.socketService.instance.negativeVotesAllowed && !ctx_r2.iVoted(ctx_r2.statement, \"ups\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.socketService.disabled);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.canEdit || ctx_r2.socketService.disabled);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.socketService.instance.emojiAllowed);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.statement.comments.length);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.socketService.instance.emojiAllowed && (ctx_r2.statement.emoji == null ? null : ctx_r2.statement.emoji.length));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.socketService.minimizeCommentsMap[ctx_r2.statement.id]);\n  }\n}\nfunction StatementComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"i\", 27);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"matTooltip\", ctx_r2.statement.text);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r2.minStatement(ctx_r2.statement.text));\n  }\n}\nexport let StatementComponent = /*#__PURE__*/(() => {\n  class StatementComponent {\n    constructor(socketService, dialog) {\n      this.socketService = socketService;\n      this.dialog = dialog;\n      this.trashStatement = new EventEmitter();\n    }\n    vote(type) {\n      this.socketService.emit('vote-' + type, this.statement.id);\n    }\n    commentVote(type, commentId) {\n      this.socketService.emit('comment-vote-' + type, {\n        statementId: this.statement.id,\n        commentId\n      });\n    }\n    unCommentVote(type, commentId) {\n      this.socketService.emit('un-comment-vote-' + type, {\n        statementId: this.statement.id,\n        commentId\n      });\n    }\n    get canEdit() {\n      return this.socketService.instance.owner === this.socketService.name || this.statement.author === this.socketService.name;\n    }\n    canEditComment(index) {\n      return this.socketService.instance.owner === this.socketService.name || this.statement.comments[index].author === this.socketService.name;\n    }\n    edit() {\n      this.dialog.open(WriteDialogComponent, {\n        width: '600px',\n        data: {\n          text: this.statement.text,\n          anonymous: !this.statement.notAnonymous,\n          what: 'statement',\n          author: this.statement.author,\n          type: this.type\n        }\n      }).afterClosed().subscribe(data => {\n        if (data) {\n          this.socketService.emit('edit', {\n            statementId: this.statement.id,\n            text: data.text,\n            anonymous: data.anonymous\n          });\n        }\n      });\n    }\n    editComment(commentId, text, notAnonymous, author) {\n      this.dialog.open(WriteDialogComponent, {\n        width: '600px',\n        data: {\n          text,\n          anonymous: !notAnonymous,\n          what: 'comment',\n          author\n        }\n      }).afterClosed().subscribe(data => {\n        if (data) {\n          this.socketService.emit('edit-comment', {\n            statementId: this.statement.id,\n            commentId,\n            text: data.text,\n            anonymous: data.anonymous\n          });\n        }\n      });\n    }\n    deleteComment(commentId) {\n      this.socketService.emit('delete-comment', {\n        statementId: this.statement.id,\n        commentId\n      });\n    }\n    comment() {\n      this.dialog.open(WriteDialogComponent, {\n        width: '600px',\n        data: {\n          anonymous: true,\n          what: 'comment'\n        }\n      }).afterClosed().subscribe(data => {\n        if (data) {\n          this.socketService.emit('comment', {\n            statementId: this.statement.id,\n            text: data.text,\n            anonymous: data.anonymous\n          });\n        }\n      });\n    }\n    minStatement(text) {\n      return text.substring(0, 20);\n    }\n    calcVotes(obj, type) {\n      return obj[type].length === 0 ? null : obj[type].length + '';\n    }\n    iVoted(obj, type) {\n      return obj[type].indexOf(this.socketService.name) > -1;\n    }\n    unVote(type) {\n      this.socketService.emit('un-vote-' + type, this.statement.id);\n    }\n    emoji(emoji) {\n      if (this.socketService.disabled) return;\n      this.socketService.emit('emoji', {\n        id: this.statement.id,\n        emoji\n      });\n    }\n    addEmoji() {\n      if (this.socketService.disabled) return;\n      this.dialog.open(EmojiDialogComponent, {\n        id: 'emoji_wrapper'\n      }).afterClosed().subscribe(emoji => {\n        if (emoji) {\n          this.socketService.emit('emoji', {\n            id: this.statement.id,\n            emoji\n          });\n        }\n      });\n    }\n    commentEmoji(commentId, emoji) {\n      if (this.socketService.disabled) return;\n      this.socketService.emit('comment-emoji', {\n        id: this.statement.id,\n        emoji,\n        commentId\n      });\n    }\n    addCommentEmoji(commentId) {\n      if (this.socketService.disabled) return;\n      this.dialog.open(EmojiDialogComponent, {\n        id: 'emoji_wrapper'\n      }).afterClosed().subscribe(emoji => {\n        if (emoji) {\n          this.socketService.emit('comment-emoji', {\n            id: this.statement.id,\n            emoji,\n            commentId\n          });\n        }\n      });\n    }\n    static {\n      this.ɵfac = function StatementComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || StatementComponent)(i0.ɵɵdirectiveInject(i1.SocketService), i0.ɵɵdirectiveInject(i2.MatDialog));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: StatementComponent,\n        selectors: [[\"app-statement\"]],\n        inputs: {\n          statement: \"statement\",\n          type: \"type\"\n        },\n        outputs: {\n          trashStatement: \"trashStatement\"\n        },\n        decls: 8,\n        vars: 5,\n        consts: [[4, \"ngIf\"], [\"mat-icon-button\", \"\", \"color\", \"warn\", \"matTooltip\", \"delete statement\", 1, \"delete-button\", 3, \"click\", \"disabled\"], [\"mat-icon-button\", \"\", 1, \"minimize-button\", 3, \"click\", \"matTooltip\"], [\"matTooltip\", \"statement has been edited\", 4, \"ngIf\"], [1, \"line-breaks\"], [\"mat-icon-button\", \"\", \"matBadgePosition\", \"before\", 3, \"disabled\", \"matBadge\", \"click\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", 3, \"disabled\", \"matBadge\", \"click\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", 3, \"matBadge\", \"disabled\", \"click\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", \"matTooltip\", \"add a comment\", 3, \"click\", \"disabled\"], [\"mat-icon-button\", \"\", \"matTooltip\", \"edit statement\", 3, \"click\", \"disabled\"], [\"mat-icon-button\", \"\", \"matTooltip\", \"add an emoji reaction\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", 3, \"matBadge\", \"disabled\", \"matTooltip\", \"click\", 4, \"ngIf\"], [\"matTooltip\", \"statement has been edited\"], [\"mat-icon-button\", \"\", \"matBadgePosition\", \"before\", 3, \"click\", \"disabled\", \"matBadge\"], [\"mat-icon-button\", \"\", 3, \"click\", \"disabled\", \"matBadge\"], [\"mat-icon-button\", \"\", 3, \"click\", \"matBadge\", \"disabled\"], [\"mat-icon-button\", \"\", \"matTooltip\", \"add an emoji reaction\", 3, \"click\", \"disabled\"], [\"mat-icon-button\", \"\", 3, \"click\", \"matBadge\", \"disabled\", \"matTooltip\"], [\"style\", \"overflow: visible\", \"color\", \"accent\", 3, \"selected\", \"matTooltip\", \"matBadge\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"color\", \"accent\", 2, \"overflow\", \"visible\", 3, \"click\", \"selected\", \"matTooltip\", \"matBadge\"], [\"set\", \"facebook\", \"tooltip\", \"true\", \"size\", \"30\", 3, \"emoji\"], [4, \"ngFor\", \"ngForOf\"], [\"mat-icon-button\", \"\", 1, \"delete-button\", 3, \"click\", \"matTooltip\"], [\"matTooltip\", \"comment has been edited\", 4, \"ngIf\"], [\"mat-icon-button\", \"\", \"matTooltip\", \"edit comment\", 3, \"click\", \"disabled\"], [\"mat-icon-button\", \"\", \"color\", \"warn\", \"matTooltip\", \"delete comment\", 3, \"click\", \"disabled\"], [\"matTooltip\", \"comment has been edited\"], [3, \"matTooltip\"]],\n        template: function StatementComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, StatementComponent_div_0_Template, 21, 13, \"div\", 0)(1, StatementComponent_div_1_Template, 3, 2, \"div\", 0);\n            i0.ɵɵelementStart(2, \"button\", 1);\n            i0.ɵɵlistener(\"click\", function StatementComponent_Template_button_click_2_listener() {\n              return ctx.trashStatement.emit();\n            });\n            i0.ɵɵelementStart(3, \"mat-icon\");\n            i0.ɵɵtext(4, \"cancel\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(5, \"button\", 2);\n            i0.ɵɵlistener(\"click\", function StatementComponent_Template_button_click_5_listener() {\n              return ctx.socketService.minimize(ctx.statement.id);\n            });\n            i0.ɵɵelementStart(6, \"mat-icon\");\n            i0.ɵɵtext(7);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", !ctx.socketService.minimizedMap[ctx.statement.id]);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.socketService.minimizedMap[ctx.statement.id]);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"disabled\", !ctx.canEdit || ctx.socketService.disabled);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"matTooltip\", ctx.socketService.minimizedMap[ctx.statement.id] ? \"restore\" : \"minimize\");\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate1(\"\", ctx.socketService.minimizedMap[ctx.statement.id] ? \"add\" : \"remove\", \"_circle\");\n          }\n        },\n        dependencies: [i3.NgForOf, i3.NgIf, i4.MatIcon, i5.MatIconButton, i6.MatCard, i7.MatChip, i8.MatBadge, i9.MatTooltip, i10.EmojiComponent],\n        styles: [\".corner-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px}mat-card[_ngcontent-%COMP%]{margin-top:6px}.line-breaks[_ngcontent-%COMP%]{white-space:pre-wrap}.delete-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.minimize-button[_ngcontent-%COMP%]{position:absolute;top:0;right:27px}\"]\n      });\n    }\n  }\n  return StatementComponent;\n})();\nexport let EmojiDialogComponent = /*#__PURE__*/(() => {\n  class EmojiDialogComponent {\n    constructor(dialogRef) {\n      this.dialogRef = dialogRef;\n    }\n    close(event) {\n      this.dialogRef.close({\n        colons: event.emoji.colons,\n        native: event.emoji.native\n      });\n    }\n    static {\n      this.ɵfac = function EmojiDialogComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || EmojiDialogComponent)(i0.ɵɵdirectiveInject(i2.MatDialogRef));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: EmojiDialogComponent,\n        selectors: [[\"emoji-dialog\"]],\n        decls: 1,\n        vars: 0,\n        consts: [[\"set\", \"facebook\", 3, \"emojiClick\"]],\n        template: function EmojiDialogComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"emoji-mart\", 0);\n            i0.ɵɵlistener(\"emojiClick\", function EmojiDialogComponent_Template_emoji_mart_emojiClick_0_listener($event) {\n              return ctx.close($event);\n            });\n            i0.ɵɵelementEnd();\n          }\n        },\n        dependencies: [i11.PickerComponent],\n        encapsulation: 2\n      });\n    }\n  }\n  return EmojiDialogComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}