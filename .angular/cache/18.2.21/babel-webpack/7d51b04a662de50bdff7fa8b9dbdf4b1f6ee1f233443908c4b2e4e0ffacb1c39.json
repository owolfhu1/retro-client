{"ast":null,"code":"import { SocketService } from '../socket.service';\nimport { Router } from '@angular/router';\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../socket.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/dialog\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/icon\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/input\";\nimport * as i9 from \"@angular/forms\";\nimport * as i10 from \"@angular/material/tooltip\";\nimport * as i11 from \"@angular/material/checkbox\";\nconst _c0 = (a0, a1) => ({\n  \"min-trash\": a0,\n  \"trash\": a1\n});\nfunction InstanceComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"mat-card\", 3)(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-form-field\")(5, \"input\", 4);\n    i0.ɵɵlistener(\"keyup.enter\", function InstanceComponent_div_0_Template_input_keyup_enter_5_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.join());\n    });\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function InstanceComponent_div_0_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.nameInput, $event) || (ctx_r1.nameInput = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(6, \" \\u00A0 \");\n    i0.ɵɵelementStart(7, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function InstanceComponent_div_0_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.join());\n    });\n    i0.ɵɵtext(8, \"join\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Please enter a name to join instance \\\"\", ctx_r1.title, \"\\\"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.nameInput);\n  }\n}\nfunction InstanceComponent_div_1_mat_card_1_mat_icon_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const column_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(column_r5.icon);\n  }\n}\nfunction InstanceComponent_div_1_mat_card_1_mat_card_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card\", 21)(1, \"app-statement\", 22);\n    i0.ɵɵlistener(\"trashStatement\", function InstanceComponent_div_1_mat_card_1_mat_card_5_Template_app_statement_trashStatement_1_listener() {\n      const i_r7 = i0.ɵɵrestoreView(_r6).index;\n      const colIndex_r8 = i0.ɵɵnextContext().index;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.trash({\n        lastIndex: i_r7,\n        lastList: colIndex_r8,\n        manual: true\n      }));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const statement_r9 = ctx.$implicit;\n    const column_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵstyleProp(\"background\", column_r5.color);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"statement\", statement_r9)(\"type\", column_r5.text);\n  }\n}\nfunction InstanceComponent_div_1_mat_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card\", 14)(1, \"h1\", 15);\n    i0.ɵɵtemplate(2, InstanceComponent_div_1_mat_card_1_mat_icon_2_Template, 2, 1, \"mat-icon\", 16);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"cdk-virtual-scroll-viewport\", 17);\n    i0.ɵɵlistener(\"cdkDropListDropped\", function InstanceComponent_div_1_mat_card_1_Template_cdk_virtual_scroll_viewport_cdkDropListDropped_4_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.drop($event));\n    });\n    i0.ɵɵtemplate(5, InstanceComponent_div_1_mat_card_1_mat_card_5_Template, 2, 4, \"mat-card\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function InstanceComponent_div_1_mat_card_1_Template_button_click_6_listener() {\n      const column_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.write(column_r5.text));\n    });\n    i0.ɵɵelementStart(7, \"mat-icon\");\n    i0.ɵɵtext(8, \"create\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const column_r5 = ctx.$implicit;\n    const colIndex_r8 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleProp(\"background\", ctx_r1.background(column_r5.color));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", column_r5.icon);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(column_r5.text);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"cdkDropListData\", column_r5.items)(\"id\", colIndex_r8);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", column_r5.items);\n    i0.ɵɵadvance();\n    i0.ɵɵstyleProp(\"background\", column_r5.color);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.socketService.disabled);\n  }\n}\nfunction InstanceComponent_div_1_cdk_virtual_scroll_viewport_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 25)(1, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function InstanceComponent_div_1_cdk_virtual_scroll_viewport_3_div_1_Template_button_click_1_listener() {\n      const i_r12 = i0.ɵɵrestoreView(_r11).index;\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.delete(i_r12));\n    });\n    i0.ɵɵtext(2, \" X \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 27);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const junk_r13 = ctx.$implicit;\n    const i_r12 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵstyleProp(\"background\", ctx_r1.trashColor(junk_r13));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.canDelete(i_r12) || ctx_r1.socketService.disabled || ctx_r1.socketService.instance.trashIsLocked);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"matTooltip\", junk_r13.text);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.displayJunk(junk_r13), \" \");\n  }\n}\nfunction InstanceComponent_div_1_cdk_virtual_scroll_viewport_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"cdk-virtual-scroll-viewport\", 23);\n    i0.ɵɵlistener(\"cdkDropListDropped\", function InstanceComponent_div_1_cdk_virtual_scroll_viewport_3_Template_cdk_virtual_scroll_viewport_cdkDropListDropped_0_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.trash($event));\n    });\n    i0.ɵɵtemplate(1, InstanceComponent_div_1_cdk_virtual_scroll_viewport_3_div_1_Template, 5, 5, \"div\", 24);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"cdkDropListData\", ctx_r1.socketService.instance.trash);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.socketService.instance.trash);\n  }\n}\nfunction InstanceComponent_div_1_mat_icon_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-icon\", 28);\n    i0.ɵɵlistener(\"click\", function InstanceComponent_div_1_mat_icon_4_Template_mat_icon_click_0_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.deleteAll());\n    });\n    i0.ɵɵtext(1, \" delete_forever \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction InstanceComponent_div_1_mat_icon_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-icon\", 29);\n    i0.ɵɵlistener(\"click\", function InstanceComponent_div_1_mat_icon_7_Template_mat_icon_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.socketService.emit(\"lock-trash\", null));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"color\", ctx_r1.socketService.instance.trashIsLocked ? \"warn\" : \"accent\")(\"matTooltip\", \"Trash is \" + (ctx_r1.socketService.instance.trashIsLocked ? \"\" : \"un\") + \"locked.\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.socketService.instance.trashIsLocked ? \"lock\" : \"lock_open\", \" \");\n  }\n}\nfunction InstanceComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtemplate(1, InstanceComponent_div_1_mat_card_1_Template, 9, 10, \"mat-card\", 7);\n    i0.ɵɵelementStart(2, \"mat-card\", 8);\n    i0.ɵɵtemplate(3, InstanceComponent_div_1_cdk_virtual_scroll_viewport_3_Template, 2, 2, \"cdk-virtual-scroll-viewport\", 9)(4, InstanceComponent_div_1_mat_icon_4_Template, 2, 0, \"mat-icon\", 10);\n    i0.ɵɵelementStart(5, \"mat-icon\", 11);\n    i0.ɵɵlistener(\"click\", function InstanceComponent_div_1_Template_mat_icon_click_5_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.minimizeTrash = !ctx_r1.minimizeTrash);\n    });\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, InstanceComponent_div_1_mat_icon_7_Template, 2, 3, \"mat-icon\", 12);\n    i0.ɵɵelementStart(8, \"mat-icon\", 13);\n    i0.ɵɵtext(9, \"open_with\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.socketService.instance.columns);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(7, _c0, ctx_r1.minimizeTrash, !ctx_r1.minimizeTrash));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.minimizeTrash);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.socketService.instance.owner === ctx_r1.socketService.name && !ctx_r1.socketService.instance.trashIsLocked && !ctx_r1.minimizeTrash);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"matTooltip\", ctx_r1.minimizeTrash ? \"restore\" : \"minimize\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.minimizeTrash ? \"add\" : \"remove\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.minimizeTrash);\n  }\n}\nfunction WriteDialogComponent_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"in \", ctx_r0.type, \" column\");\n  }\n}\nfunction WriteDialogComponent_mat_icon_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"add\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction WriteDialogComponent_mat_icon_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"done\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let InstanceComponent = /*#__PURE__*/(() => {\n  class InstanceComponent {\n    constructor(socketService, router, dialog) {\n      this.socketService = socketService;\n      this.router = router;\n      this.dialog = dialog;\n      this.nameInput = '';\n      this.title = '';\n      this.minimizeTrash = false;\n    }\n    ngOnInit() {\n      this.title = this.router.url.split('/')[2];\n    }\n    drop(event) {\n      if (event.isPointerOverContainer) {\n        if (this.socketService.disabled) {\n          this.socketService.systemMessage.next('You can not edit a locked instance.');\n          return;\n        }\n        const lastIndex = event.previousIndex;\n        const nextIndex = event.currentIndex;\n        const lastList = event.previousContainer.id;\n        const nextList = event.container.id;\n        const tempItem = lastList === 'trash' ? this.socketService.instance[lastList][lastIndex] : this.socketService.instance.columns[lastList].items[lastIndex];\n        const id = tempItem.id;\n        if (tempItem.author !== this.socketService.name && this.socketService.instance.owner !== this.socketService.name) {\n          this.socketService.systemMessage.next('You may only move your own statements.');\n        } else {\n          const item = (lastList === 'trash' ? this.socketService.instance[lastList] : this.socketService.instance.columns[lastList].items).splice(lastIndex, 1)[0];\n          this.socketService.instance.columns[nextList].items.splice(nextIndex, 0, item);\n          this.socketService.emit('drop', {\n            lastIndex,\n            nextIndex,\n            lastList,\n            nextList,\n            id\n          });\n        }\n      }\n    }\n    trash(event) {\n      if (event.isPointerOverContainer || event.manual) {\n        if (this.socketService.disabled) {\n          this.socketService.systemMessage.next('You can not edit a locked instance.');\n          return;\n        }\n        const lastIndex = event.manual ? event.lastIndex : event.previousIndex;\n        const nextIndex = event.manual ? null : event.currentIndex;\n        const lastList = event.manual ? event.lastList : event.previousContainer.id;\n        const tempItem = lastList === 'trash' ? this.socketService.instance[lastList][lastIndex] : this.socketService.instance.columns[lastList].items[lastIndex];\n        const id = tempItem.id;\n        if (tempItem.author !== this.socketService.name && this.socketService.instance.owner !== this.socketService.name) {\n          this.socketService.systemMessage.next('You may only move your own statements.');\n        } else {\n          const item = (lastList === 'trash' ? this.socketService.instance[lastList] : this.socketService.instance.columns[lastList].items).splice(lastIndex, 1)[0];\n          item.from = lastList;\n          this.socketService.instance.trash.splice(nextIndex, 0, item);\n          this.socketService.emit('trash', {\n            lastIndex,\n            nextIndex,\n            lastList,\n            id\n          });\n        }\n      }\n    }\n    trashColor(junk) {\n      return (this.socketService.instance.columns[junk.from] || {}).color;\n    }\n    canDelete(index) {\n      const statement = this.socketService.instance.trash[index];\n      const isOwner = this.socketService.instance.owner === this.socketService.name;\n      return isOwner ? true : statement.author === this.socketService.name;\n    }\n    delete(index) {\n      const item = this.socketService.instance.trash[index];\n      if (this.socketService.instance.owner === this.socketService.name) {\n        this.socketService.emit('delete', index);\n      } else {\n        if (item.author !== this.socketService.name) {\n          this.socketService.systemMessage.next('You may only delete your own statements.');\n        } else if (item.comments.length > 0) {\n          this.socketService.systemMessage.next('Only the instance owner can delete statements with comments.');\n        } else {\n          this.socketService.emit('delete', index);\n        }\n      }\n    }\n    deleteAll() {\n      this.socketService.emit('delete-all', null);\n    }\n    join() {\n      const name = this.nameInput.replace(' ', '');\n      if (!name) {\n        return;\n      }\n      this.socketService.emit('join', {\n        instanceId: this.title,\n        name\n      });\n    }\n    write(type) {\n      this.dialog.open(WriteDialogComponent, {\n        width: '600px',\n        panelClass: 'panel',\n        data: {\n          type,\n          anonymous: true,\n          what: 'statement'\n        }\n      }).afterClosed().subscribe(value => {\n        if (value) {\n          this.socketService.emit('new-statement', {\n            type,\n            value: value.text,\n            anonymous: value.anonymous\n          });\n        }\n      });\n    }\n    displayJunk(junk) {\n      return junk.text.substring(0, 10);\n    }\n    background(main) {\n      switch (main) {\n        case 'green':\n          return 'lightgreen';\n        case 'blue':\n          return 'cornflowerblue';\n        case 'purple':\n          return 'mediumpurple';\n        case 'darkred':\n          return 'lightcoral';\n        case 'orangered':\n          return 'orange';\n        case 'yellowgreen':\n          return 'yellow';\n        case 'deeppink':\n          return 'pink';\n        case 'gray':\n          return 'lightgray';\n      }\n    }\n    static {\n      this.ɵfac = function InstanceComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || InstanceComponent)(i0.ɵɵdirectiveInject(i1.SocketService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MatDialog));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: InstanceComponent,\n        selectors: [[\"app-instance\"]],\n        decls: 2,\n        vars: 2,\n        consts: [[\"class\", \"login-wrapper\", 4, \"ngIf\"], [\"class\", \"board\", \"cdkDropListGroup\", \"\", 4, \"ngIf\"], [1, \"login-wrapper\"], [1, \"login\"], [\"matInput\", \"\", \"placeholder\", \"name\", 3, \"keyup.enter\", \"ngModelChange\", \"ngModel\"], [\"mat-raised-button\", \"\", \"color\", \"accent\", 3, \"click\"], [\"cdkDropListGroup\", \"\", 1, \"board\"], [\"class\", \"section\", 3, \"background\", 4, \"ngFor\", \"ngForOf\"], [\"cdkDrag\", \"\", 3, \"ngClass\"], [\"class\", \"trash-body hide-scroll\", \"cdkDropList\", \"\", \"id\", \"trash\", \"itemSize\", \"1\", 3, \"cdkDropListData\", \"cdkDropListDropped\", 4, \"ngIf\"], [\"matTooltip\", \"delete all\", \"class\", \"trash-all-button\", \"color\", \"warn\", 3, \"click\", 4, \"ngIf\"], [1, \"resize-button\", 3, \"click\", \"matTooltip\"], [\"class\", \"trash-lock\", 3, \"color\", \"matTooltip\", \"click\", 4, \"ngIf\"], [\"cdkDragHandle\", \"\", 1, \"trash-handle\"], [1, \"section\"], [1, \"center\"], [\"class\", \"col-icon\", 4, \"ngIf\"], [\"cdkDropList\", \"\", \"itemSize\", \"1\", 1, \"section-body\", \"hide-scroll\", 3, \"cdkDropListDropped\", \"cdkDropListData\", \"id\"], [\"cdkDrag\", \"\", 3, \"background\", 4, \"ngFor\", \"ngForOf\"], [\"matTooltip\", \"write statement\", \"mat-mini-fab\", \"\", \"color\", \"accent\", 1, \"corner-button\", 3, \"click\", \"disabled\"], [1, \"col-icon\"], [\"cdkDrag\", \"\"], [3, \"trashStatement\", \"statement\", \"type\"], [\"cdkDropList\", \"\", \"id\", \"trash\", \"itemSize\", \"1\", 1, \"trash-body\", \"hide-scroll\", 3, \"cdkDropListDropped\", \"cdkDropListData\"], [\"class\", \"trash-object\", \"cdkDrag\", \"\", 3, \"background\", 4, \"ngFor\", \"ngForOf\"], [\"cdkDrag\", \"\", 1, \"trash-object\"], [\"matTooltip\", \"delete\", 1, \"delete-button\", 3, \"click\", \"disabled\"], [3, \"matTooltip\"], [\"matTooltip\", \"delete all\", \"color\", \"warn\", 1, \"trash-all-button\", 3, \"click\"], [1, \"trash-lock\", 3, \"click\", \"color\", \"matTooltip\"]],\n        template: function InstanceComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, InstanceComponent_div_0_Template, 9, 2, \"div\", 0)(1, InstanceComponent_div_1_Template, 10, 10, \"div\", 1);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", !ctx.socketService.name);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.socketService.instance && ctx.socketService.name);\n          }\n        },\n        styles: [\".board[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-grow:1}.section[_ngcontent-%COMP%]{width:100%;margin:10px;position:relative;display:flex;flex-direction:column}.trash[_ngcontent-%COMP%]{width:120px;height:140px;z-index:100;position:fixed;bottom:5px;right:5px;padding:35px 5px 30px}.center[_ngcontent-%COMP%]{text-align:center;margin-bottom:0}.min-trash[_ngcontent-%COMP%]{width:20px;height:0;z-index:100;position:fixed;bottom:178px;right:83px}.trash-handle[_ngcontent-%COMP%]{position:absolute;top:4px;right:3px}.trash-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;height:100%;padding-top:20px}.hide-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.hide-scroll[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}.section-body[_ngcontent-%COMP%]{flex:1}.trash-object[_ngcontent-%COMP%]{height:16px;font-size:small;margin:3px;border-radius:7px}.delete-button[_ngcontent-%COMP%]{height:16px;width:16px;background:#fffaf0;padding-top:0;border:red solid 1px;border-radius:8px;padding-left:3px}.trash-lock[_ngcontent-%COMP%]{position:absolute;top:5px;right:28px}.corner-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;color:#fff}.trash-all-button[_ngcontent-%COMP%]{position:absolute;top:5px;left:23px;color:red}.resize-button[_ngcontent-%COMP%]{position:absolute;top:4px;left:3px}mat-card[_ngcontent-%COMP%]{margin-top:8px}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.login-wrapper[_ngcontent-%COMP%]{width:500px;margin:auto}.login[_ngcontent-%COMP%]{padding:60px}.col-icon[_ngcontent-%COMP%]{transform:scale(1.6);margin-right:15px}\"]\n      });\n    }\n  }\n  return InstanceComponent;\n})();\nexport let WriteDialogComponent = /*#__PURE__*/(() => {\n  class WriteDialogComponent {\n    constructor(socketService, dialogRef, data) {\n      this.socketService = socketService;\n      this.dialogRef = dialogRef;\n      this.data = data;\n      this.text = data.text;\n      this.isEdit = !!data.text;\n      this.type = data.type;\n      this.anonymous = data.anonymous;\n      this.what = data.what;\n      this.author = data.author;\n    }\n    close() {\n      if (this.socketService.instance.locked && this.socketService.instance.owner !== this.socketService.name) {\n        this.socketService.systemMessage.next('You can not do that, the instance has been locked.');\n        this.dialogRef.close();\n      } else {\n        this.dialogRef.close({\n          text: this.text,\n          anonymous: this.anonymous\n        });\n      }\n    }\n    static {\n      this.ɵfac = function WriteDialogComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || WriteDialogComponent)(i0.ɵɵdirectiveInject(i1.SocketService), i0.ɵɵdirectiveInject(i3.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: WriteDialogComponent,\n        selectors: [[\"write-dialog\"]],\n        decls: 17,\n        vars: 10,\n        consts: [[4, \"ngIf\"], [1, \"editor-wrapper\"], [\"color\", \"accent\", \"appearance\", \"outline\", 2, \"width\", \"100%\"], [\"rows\", \"10\", \"matInput\", \"\", 3, \"ngModelChange\", \"ngModel\"], [1, \"flex\"], [3, \"ngModelChange\", \"disabled\", \"ngModel\"], [\"mat-mini-fab\", \"\", \"color\", \"warn\", \"matTooltip\", \"cancel\", 3, \"click\"], [\"mat-mini-fab\", \"\", \"color\", \"primary\", 3, \"click\", \"matTooltip\", \"disabled\"]],\n        template: function WriteDialogComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"h2\");\n            i0.ɵɵtext(1);\n            i0.ɵɵtemplate(2, WriteDialogComponent_span_2_Template, 2, 1, \"span\", 0);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"div\", 1)(4, \"mat-form-field\", 2)(5, \"textarea\", 3);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function WriteDialogComponent_Template_textarea_ngModelChange_5_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.text, $event) || (ctx.text = $event);\n              return $event;\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(6, \"div\", 4)(7, \"mat-checkbox\", 5);\n            i0.ɵɵtwoWayListener(\"ngModelChange\", function WriteDialogComponent_Template_mat_checkbox_ngModelChange_7_listener($event) {\n              i0.ɵɵtwoWayBindingSet(ctx.anonymous, $event) || (ctx.anonymous = $event);\n              return $event;\n            });\n            i0.ɵɵtext(8, \"Anonymous\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"div\")(10, \"button\", 6);\n            i0.ɵɵlistener(\"click\", function WriteDialogComponent_Template_button_click_10_listener() {\n              return ctx.dialogRef.close();\n            });\n            i0.ɵɵelementStart(11, \"mat-icon\");\n            i0.ɵɵtext(12, \"clear\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtext(13, \" \\u00A0 \");\n            i0.ɵɵelementStart(14, \"button\", 7);\n            i0.ɵɵlistener(\"click\", function WriteDialogComponent_Template_button_click_14_listener() {\n              return ctx.close();\n            });\n            i0.ɵɵtemplate(15, WriteDialogComponent_mat_icon_15_Template, 2, 0, \"mat-icon\", 0)(16, WriteDialogComponent_mat_icon_16_Template, 2, 0, \"mat-icon\", 0);\n            i0.ɵɵelementEnd()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance();\n            i0.ɵɵtextInterpolate2(\" \", ctx.isEdit ? \"Editing\" : \"Creating\", \" \", ctx.what, \" \");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.what === \"statement\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.text);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"disabled\", ctx.isEdit && ctx.socketService.name !== ctx.author);\n            i0.ɵɵtwoWayProperty(\"ngModel\", ctx.anonymous);\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"matTooltip\", ctx.isEdit ? \"update\" : \"submit\")(\"disabled\", !ctx.text);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isEdit);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.isEdit);\n          }\n        },\n        dependencies: [i4.NgIf, i5.MatIcon, i6.MatMiniFabButton, i7.MatFormField, i8.MatInput, i9.DefaultValueAccessor, i9.NgControlStatus, i9.NgModel, i10.MatTooltip, i11.MatCheckbox],\n        styles: [\".flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}h2[_ngcontent-%COMP%]{margin-top:0}.editor-wrapper[_ngcontent-%COMP%]  .mat-form-field-infix{border-top:none}\"]\n      });\n    }\n  }\n  return WriteDialogComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}